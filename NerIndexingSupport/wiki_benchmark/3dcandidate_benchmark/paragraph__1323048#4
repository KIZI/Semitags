It is legal to move a rook from a3 to h3, even if there is a piece on b3, since the rook can move left from a3. A bishop on c1 can go to h4, by moving from c1 to a3, and then going up and left from a3 to h4. Moves that do not change the position, like rook a3-a3 (assuming 3rd rank is empty), are usually not allowed, but sometimes they are in some problems. It is allowed to capture en passant over the board edge. For example, if white has a pawn on a5, black on h7 and black plays h7-h5, white can capture it: a5xh6.